<body>
    <aside>
        <app-aside></app-aside>
    </aside>

    <div class="content">
        <header>
            <app-header [user]="user" (search)="searchRegisters($event)"></app-header>
        </header>

        <main>
            <section class="section-main">
                <div class="aling-top">
                    <div class="title"><h2>Relatório de cadastros</h2></div>
                    <app-button-form [textBt]="'Imprimir relatório'" type="button" [id]="'print'" (click)="printRegisters()"></app-button-form>
                </div>

                <app-main [titleTable]="'Cadastros'"
                    [idTable]="'table-registers'"
                    [columns]="[
                        { key: 'name', label: 'Nome' },
                        { key: 'email', label: 'Email' },
                        { key: 'status', label: 'Status' }
                    ]"
                    [registers]="paginatedRegisters"
                    (rowClick)="openPopup($event)">
                </app-main>

                <div id="pagination" class="pagination">
                    <button id="previous" (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">&laquo;</button>
                    <span id="number-page">{{currentPage}} / {{totalPages}}</span>
                    <button id="next" (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">&raquo;</button>
                </div>
            </section>
        </main>

        <app-popup-datails
            *ngIf="showPopup"
            [register]="selectedRegister"
            (close)="closePopup()">
        </app-popup-datails>

    </div>
</body>